import{S,P as R,W as G,e as W,f as x,g as M,h as B,A as I,i as O,C as k}from"./three.module.fce46361.js";import{O as q}from"./OrbitControls.282dc705.js";import{G as E}from"./lil-gui.esm.1e0f7d72.js";const i=new E,P=document.querySelector("canvas.webgl"),u=new S,e={};e.count=1e5;e.size=.01;e.radius=5;e.branches=3;e.spin=1;e.randomness=.2;e.randomnessPower=3;e.insideColor="#ff6030";e.outsideColor="#1b3985";let a=null,p=null,w=null;const o=()=>{w!==null&&(a.dispose(),p.dispose(),u.remove(w)),a=new W;const d=new Float32Array(e.count*3),h=new Float32Array(e.count*3),F=new x(e.insideColor),z=new x(e.outsideColor);for(let m=0;m<e.count;m++){const s=m*3,c=Math.random()*e.radius,g=c*e.spin,C=m%e.branches/e.branches*Math.PI*2,A=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1),v=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1),y=Math.pow(Math.random(),e.randomnessPower)*(Math.random()<.5?1:-1);d[s+0]=Math.cos(C+g)*c+A,d[s+1]=v,d[s+2]=Math.sin(C+g)*c+y;const l=F.clone();l.lerp(z,c/e.radius),h[s+0]=l.r,h[s+1]=l.g,h[s+2]=l.b}a.setAttribute("position",new M(d,3)),a.setAttribute("color",new M(h,3)),p=new B({size:e.size,sizeAttenuation:!0,depthWrite:!1,blending:I,vertexColors:!0}),w=new O(a,p),u.add(w)};o();i.add(e,"count").min(100).max(1e5).step(100).name("Stars count").onFinishChange(o);i.add(e,"size").min(.001).max(.1).step(.001).name("Stars size").onFinishChange(o);i.add(e,"radius").min(.01).max(20).step(.01).name("Galaxy radius").onFinishChange(o);i.add(e,"branches").min(2).max(20).step(1).name("Branches").onFinishChange(o);i.add(e,"spin").min(-5).max(5).step(.001).name("Spin").onFinishChange(o);i.add(e,"randomness").min(0).max(2).step(.001).name("Randomness").onFinishChange(o);i.add(e,"randomnessPower").min(1).max(10).step(.001).name("RandomnessPower").onFinishChange(o);i.addColor(e,"insideColor").name("Inside color").onFinishChange(o);i.addColor(e,"outsideColor").name("Outside color").onFinishChange(o);const n={width:window.innerWidth,height:window.innerHeight};window.addEventListener("resize",()=>{n.width=window.innerWidth,n.height=window.innerHeight,t.aspect=n.width/n.height,t.updateProjectionMatrix(),r.setSize(n.width,n.height),r.setPixelRatio(Math.min(window.devicePixelRatio,2))});const t=new R(75,n.width/n.height,.1,100);t.position.x=3;t.position.y=3;t.position.z=3;u.add(t);const b=new q(t,P);b.enableDamping=!0;const r=new G({canvas:P});r.setSize(n.width,n.height);r.setPixelRatio(Math.min(window.devicePixelRatio,2));const H=new k,f=()=>{H.getElapsedTime(),b.update(),r.render(u,t),window.requestAnimationFrame(f)};f();
