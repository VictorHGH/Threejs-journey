---
import Layout from '../../layouts/Layout.astro';
import ClassTitle from '../../components/classtitle.astro';
---

<Layout title="Animations">

  <ClassTitle title="Animations" />

  <script>
    import * as THREE from 'three'
    import gsap from 'gsap'

    const sizes = {
      width: 600,
      height: 400
    }
    
    //Scene
    const scene = new THREE.Scene()

    //camera
    const camera = new THREE.PerspectiveCamera(75, sizes.width / sizes.height);
    camera.position.z = 3
    scene.add(camera)

    //Box
    const box = new THREE.BoxGeometry(1, 1, 1)
    const material = new THREE.MeshBasicMaterial({ color: 0xff0000 })
    const mesh = new THREE.Mesh(box, material)
    scene.add(mesh)

    const canvas = document.querySelector('.webgl')
    const renderer = new THREE.WebGLRenderer({
      canvas: canvas
    })
    renderer.setSize(sizes.width, sizes.height)

    // Clock
    /* const clock = new THREE.Clock() */

    gsap.to(mesh.position, { duration: 1, delay: 1, x: 2 })
    gsap.to(mesh.position, { duration: 1, delay: 2, x: 0 })

    // Animation
    const tick = () => {

      // Clock
      /* const elapsedTime = clock.getElapsedTime() */

      // Update objects
      /* mesh.rotation.y = elapsedTime * 1 */
      /* camera.position.x = Math.cos(elapsedTime) */

      // To look at one object
      /* camera.lookAt(mesh.position) */

      //Render
      renderer.render(scene, camera)
      window.requestAnimationFrame(tick)
    }

    tick()

  </script>

</Layout>
